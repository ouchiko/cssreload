var cssreload={stack:[],csrdetails:{frequency:5e3,enableButton:!1},_intervalcssreload:null,addButtonElement:function(){var a=document.createElement("input");$(a).css({position:"fixed",bottom:"0",left:"0"}),$(a).val("Stop CSS reload"),$(a).attr("type","button"),$(a).attr("data-state","on"),$(a).click(function(){var a=$(this).attr("data-state");"on"==a?($(this).val("Start CSS reload"),$(this).attr("data-state","off"),clearInterval(cssreload._intervalcssreload)):($(this).val("Stop CSS reload"),$(this).attr("data-state","on"),cssreload.__doInterval())}),$("body").append($(a))},__requestCss:function(a,b){$.ajax({type:"GET",url:a+"?r="+Math.random(),dataType:"json",complete:function(a){cssreload.__stashCss(a,b)}})},__diff:function(a,b,c){for(var e=b.split("\n"),f=c.split("\n"),g=0;g<e.length;g++)e[g]!=f[g]&&f[g]&&console.log(a+": + "+f[g])},__stashCss:function(a,b){cssreload.stack[b].content?cssreload.stack[b].content!=a.responseText&&(cssreload.__diff(cssreload.stack[b].source,cssreload.stack[b].content,a.responseText),$("link[data-css-id='"+cssreload.stack[b].attribute+"']")[0].href=cssreload.stack[b].source+"?r="+Math.random(),cssreload.stack[b].content=a.responseText):cssreload.stack[b].content=a.responseText},__getSources:function(){$.each($("link[data-css-id]"),function(a,b){var c=$(b).attr("data-css-id"),d=$(b).attr("href");cssreload.stack.push({attribute:c,source:d,content:""})})},__doInterval:function(){cssreload._intervalcssreload=setInterval(function(){for(var a=0;a<cssreload.stack.length;a++)cssreload.stack[a]&&cssreload.__requestCss(cssreload.stack[a].source,a)},cssreload.csrdetails.frequency)},profiler:function(a){cssreload.csrdetails=a,cssreload.__getSources(),cssreload.__doInterval(),cssreload.csrdetails.enableButton&&cssreload.addButtonElement()}};$(document).ready(function(){cssreload.profiler(csrdetails)});